import numpy as np

def visualize_shifts(schedule, name):
    day_shifts = []
    night_shifts = []
    for day in schedule:
        temp_day_shifts = []
        temp_night_shifts = []
        for i in range(len(day)):
            if day[i][0] == 1:
                temp_day_shifts.append(i+1)
            elif day[i][1] == 1:
                temp_night_shifts.append(i+1)
        day_shifts.append(temp_day_shifts)
        night_shifts.append(temp_night_shifts)

    def print_shifts(schedule):
        day_index = 1
        for day in schedule:
            print(f"Dzien {day_index}: {day}")
            day_index += 1
    print(f"Zmianna dzienna dla {name}:")
    print_shifts(day_shifts)
    print(f"Zmiana nocna dla {name}:")
    print_shifts(night_shifts)

total_shifts_worked = 0
def cos(name, data):
    print("=" * 50)
    print(name)
    all_employees = []
    for i in range(np.shape(data)[1]):
        curr_column = [row[i] for row in data]
        total = 0
        for row in curr_column:
            total += sum(row)
        print(f"Row {i+1} total: {total}")
        all_employees.append(total)
    print("Wszyscy pracownicy: ", all_employees)
    global total_shifts_worked
    total_shifts_worked += np.sum(all_employees)

def preprocess_solution(string):
    list = []
    string = string.replace(" ", "")
    string = string.replace("[00]", "[0,0],")
    string = string.replace("[10]", "[1,0],")
    string = string.replace("[01]", "[0,1],")
    string = string.replace("[11]", "[1,1],")
    string = string.replace("],]", "]],")
    string = string.replace("]][[", "]],[[")
    list = eval(string)
    return list

# Shifts from 10-23
new_schedule_nurses=[[[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[0,0],[0,0],[0,0],[1,0],[1,0],[1,0],[0,1],[0,1],[1,0],[0,0],[0,0],[0,0],[0,0],[0,1]],[[1,0],[1,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[0,1],[0,0],[1,0],[0,0],[0,1],[0,0],[0,0],[0,1]],[[0,0],[0,1],[0,0],[0,1],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[1,0],[1,0],[1,0],[0,0],[0,1],[1,0],[0,0]],[[1,0],[0,0],[1,0],[0,1],[0,0],[1,0],[0,0],[0,1],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,1],[0,1],[0,0],[0,0],[0,0],[0,0]],[[0,1],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[1,0],[1,0],[0,0],[0,1],[0,0],[0,1],[0,1],[0,0]],[[0,1],[0,0],[1,0],[0,0],[1,0],[0,1],[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[0,0],[1,0],[0,1],[0,0],[0,0],[0,0],[1,0]],[[0,1],[1,0],[0,0],[0,1],[0,0],[0,0],[0,0],[0,1],[0,0],[0,1],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[1,0],[1,0]],[[0,1],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,0],[0,0],[1,0],[1,0],[0,0],[0,1],[0,0],[0,1]],[[0,1],[1,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,1],[0,0],[0,0],[0,1],[0,1],[0,0],[0,0],[1,0],[0,0],[1,0],[0,0],[0,0],[0,0]],[[0,0],[0,1],[0,0],[0,0],[1,0],[0,0],[1,0],[0,1],[0,0],[1,0],[0,0],[0,1],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,0]],[[1,0],[0,0],[1,0],[0,0],[0,0],[0,1],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[1,0],[0,1],[0,0],[0,1],[0,1],[0,0]],[[1,0],[0,0],[0,0],[0,1],[0,1],[0,0],[0,1],[0,0],[1,0],[0,0],[0,0],[1,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,1]],[[0,1],[1,0],[0,1],[0,0],[0,1],[0,1],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[1,0],[0,0]],[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,0],[1,0],[1,0],[0,1],[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[1,0],[0,1]],[[0,0],[0,0],[1,0],[0,1],[0,0],[0,0],[1,0],[0,0],[0,1],[1,0],[1,0],[0,1],[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[0,0],[0,0],[0,1],[0,0],[0,0],[0,1],[0,0],[1,0],[1,0],[0,1],[0,0],[0,0],[1,0],[1,0]],[[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[0,0],[0,0],[0,0],[1,0],[0,1],[1,0],[0,0],[0,1],[0,0],[0,0],[1,0],[1,0],[0,1]],[[0,0],[0,0],[0,0],[0,0],[1,0],[0,1],[0,1],[1,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,1],[0,1],[0,0],[0,0],[1,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,1],[1,0],[0,0],[0,1],[0,1],[0,1],[1,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,1],[1,0],[1,0],[0,0],[0,1],[0,0],[0,0],[0,1],[0,1],[1,0],[0,0],[0,0],[0,0]],[[0,1],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,1],[1,0],[0,0],[1,0],[0,1],[0,0],[1,0],[0,1],[0,0],[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0],[0,1],[1,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,1],[0,0],[1,0],[0,1],[0,0],[1,0],[0,0],[0,0],[0,1]],[[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,1],[0,0],[0,1],[0,0],[1,0],[1,0],[0,1],[1,0],[0,1],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[1,0],[0,0],[0,1],[0,1],[1,0],[0,0],[0,1],[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[0,0],[1,0],[1,0]],[[0,1],[0,0],[1,0],[1,0],[0,0],[0,1],[0,1],[1,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,1],[0,1],[1,0],[0,0],[0,0],[0,0],[0,1],[0,1],[0,0],[1,0]],[[1,0],[1,0],[1,0],[0,1],[0,1],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[0,0],[0,1],[0,0],[0,0],[0,0],[0,0],[0,0]],[[1,0],[0,0],[0,1],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[0,0],[0,1],[1,0],[0,0],[1,0],[0,0],[0,1]],[[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,0],[0,0],[0,1],[1,0],[0,1],[0,1],[0,0],[0,0]],[[1,0],[1,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[0,1],[1,0],[0,0],[0,1],[0,0],[0,1],[0,0],[0,0],[0,0]]]

new_schedule_laboratory_technicians=[[[1,0],[0,0],[0,0],[0,1],[0,0]],[[0,0],[1,0],[0,0],[0,0],[0,1]],[[0,1],[0,0],[1,0],[0,0],[0,0]],[[0,1],[1,0],[0,0],[0,0],[0,0]],[[0,1],[0,0],[0,0],[1,0],[0,0]],[[0,0],[0,0],[0,0],[1,0],[0,1]],[[0,0],[0,0],[0,0],[1,1],[0,0]],[[1,1],[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,1],[1,0],[0,0]],[[0,1],[0,0],[0,0],[0,0],[1,0]],[[0,0],[0,0],[0,0],[0,0],[1,1]],[[1,0],[0,0],[0,0],[0,0],[0,1]],[[0,0],[0,0],[1,1],[0,0],[0,0]],[[0,0],[0,1],[0,0],[1,0],[0,0]],[[0,0],[0,1],[1,0],[0,0],[0,0]],[[0,1],[0,0],[0,0],[0,0],[1,0]],[[0,0],[1,0],[0,1],[0,0],[0,0]],[[0,0],[1,1],[0,0],[0,0],[0,0]],[[0,0],[0,0],[1,0],[0,1],[0,0]],[[0,0],[0,0],[1,1],[0,0],[0,0]],[[0,0],[1,0],[0,0],[0,1],[0,0]],[[0,0],[0,0],[0,0],[0,1],[1,0]],[[0,0],[0,1],[0,0],[0,0],[1,0]],[[0,0],[0,0],[1,0],[0,1],[0,0]],[[1,0],[0,0],[0,0],[0,1],[0,0]],[[0,0],[1,0],[0,0],[0,1],[0,0]],[[1,0],[0,0],[0,0],[0,0],[0,1]],[[1,1],[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[1,1],[0,0]],[[0,0],[0,0],[1,0],[0,1],[0,0]]]

new_schedule_midwives=[[[0,0],[0,0],[0,1],[0,0],[0,0],[0,0],[1,0],[1,0],[0,0],[0,1]],[[0,0],[0,0],[0,0],[0,0],[1,1],[0,0],[1,0],[0,0],[0,0],[0,1]],[[0,1],[0,0],[1,0],[0,0],[0,0],[1,0],[0,1],[0,0],[0,0],[0,0]],[[0,0],[1,1],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,1]],[[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[1,1],[0,0],[0,0],[0,1]],[[0,0],[0,0],[0,0],[0,0],[1,0],[0,1],[0,0],[0,0],[1,0],[0,1]],[[0,0],[1,0],[0,1],[0,0],[0,0],[0,0],[1,1],[0,0],[0,0],[0,0]],[[0,1],[1,0],[0,0],[0,0],[0,1],[0,0],[0,0],[0,0],[0,0],[1,0]],[[0,0],[0,0],[0,0],[1,0],[0,1],[0,0],[1,1],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,1],[0,0],[1,1]],[[1,0],[0,0],[0,0],[0,0],[0,0],[1,1],[0,1],[0,0],[0,0],[0,0]],[[1,0],[0,0],[0,0],[0,1],[1,0],[0,0],[0,1],[0,0],[0,0],[0,0]],[[1,1],[0,1],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,0]],[[0,1],[0,1],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[1,0]],[[0,0],[0,1],[0,1],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[1,0]],[[1,0],[0,0],[0,1],[0,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,1]],[[0,1],[0,1],[0,0],[0,0],[0,0],[0,0],[0,0],[1,0],[1,0],[0,0]],[[0,0],[0,1],[0,1],[1,0],[0,0],[0,0],[1,0],[0,0],[0,0],[0,0]],[[1,0],[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,1],[0,0],[0,1]],[[0,0],[0,0],[0,0],[0,1],[1,1],[1,0],[0,0],[0,0],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,1],[0,0],[1,0],[0,1],[0,0],[1,0],[0,0]],[[0,0],[0,0],[0,0],[0,1],[1,0],[0,0],[0,1],[0,0],[1,0],[0,0]],[[0,0],[0,0],[1,0],[0,0],[0,0],[0,0],[0,0],[0,1],[1,0],[0,1]],[[0,0],[0,0],[0,1],[1,0],[1,0],[0,0],[0,0],[0,1],[0,0],[0,0]],[[0,0],[0,0],[0,0],[0,0],[0,0],[1,1],[0,0],[0,1],[0,0],[1,0]],[[1,0],[0,1],[0,0],[0,0],[0,0],[0,0],[0,1],[0,0],[1,0],[0,0]],[[0,0],[0,0],[1,0],[0,1],[0,0],[0,0],[0,1],[0,0],[1,0],[0,0]],[[0,0],[0,0],[0,0],[0,1],[1,0],[0,0],[0,0],[0,1],[0,0],[1,0]],[[0,0],[0,0],[1,0],[0,0],[0,0],[1,1],[0,0],[0,0],[0,1],[0,0]],[[0,0],[0,0],[0,0],[0,0],[0,0],[0,0],[1,1],[0,0],[0,1],[1,0]]];

cos("Nurses", new_schedule_nurses)
cos("Lab technicians", new_schedule_laboratory_technicians)
cos("Midwives", new_schedule_midwives)
print("Total shifts worked", total_shifts_worked)

visualize_shifts(new_schedule_nurses, "nurse")






